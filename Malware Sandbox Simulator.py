import time

# 1. Base Class (Parent) - Demonstrates Encapsulation
class Threat:
    def __init__(self, name, threat_level):
        self.name = name
        self.threat_level = threat_level
        self.is_active = False

    def activate(self):
        self.is_active = True
        print(f"\n[!] THREAT ACTIVATED: {self.name} (Level: {self.threat_level})")

    # This is a method that will be overridden (Polymorphism)
    def execute_payload(self):
        print("Generic threat behavior detected.")

# 2. Inheritance - Ransomware inherits from Threat
class Ransomware(Threat):
    def __init__(self, name, threat_level, encryption_key):
        super().__init__(name, threat_level)
        self.key = encryption_key

    # Overriding the parent method (Polymorphism)
    def execute_payload(self):
        print(f"[*] ACTION: Encrypting user files using key: {self.key}")
        print("[*] STATUS: System locked. Displaying ransom note...")

# 3. Inheritance - Spyware inherits from Threat
class Spyware(Threat):
    def execute_payload(self):
        print("[*] ACTION: Accessing webcam and microphone...")
        print("[*] ACTION: Intercepting keystrokes (Keylogging)...")
        print("[*] STATUS: Exfiltrating data to C2 Server.")

def main():
    # Creating a list of objects (Polymorphism)
    sandbox_queue = [
        Ransomware("WannaCry_Sim", "Critical", "0x5f3a"),
        Spyware("Pegasus_Lite", "High")
    ]

    print("--- Security Lab: OOPS Malware Sandbox ---")
    
    for malware in sandbox_queue:
        malware.activate()
        malware.execute_payload() # Same method call, different behavior
        time.sleep(1)

if __name__ == "__main__":
    main()